from Server.Objects import Object
from Server.Objects import Status
from Server.Objects import User
from enum import Enum


class EventRegistration(Enum):
    SuccessRegistration = "Success"
    LoginExist = "LoginExist"


defaultPhotoBase64 = "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"


def registration(cursor, params):
    cursor.execute("select * from Authorization_info where login='{}'".format(params[User.Login.value]))
    row = cursor.fetchone()

    obj = Object()
    status = Object()

    if row is None:
        status.status = Status.Ok.value
        status.message = EventRegistration.SuccessRegistration.value

        cursor.execute("insert into Authorization_info (login, password) values('{}', '{}')"
                       .format(params[User.Login.value], params[User.Password.value])
                       )
        cursor.execute("select max(id) from Authorization_info")
        row = cursor.fetchone()
        id_auth = row[0]

        cursor.execute("insert into List_Comments (empty) values(null)")
        cursor.execute("select max(id) from List_Comments")
        row = cursor.fetchone()
        id_lcomment = row[0]

        cursor.execute("insert into Photo (id_list_photos, photo) values(null, '{}')"
                       .format(defaultPhotoBase64))
        cursor.execute("select max(id) from Photo")
        id_photo = cursor.fetchone()[0]

        cursor.execute("insert into Profile (id_authorization_info, id_list_comments, id_photo, name, about) \
                        values({}, {}, {}, null, null)".format(id_auth, id_lcomment, id_photo))

        cursor.execute("select max(id) from Profile;")
        row = cursor.fetchone()
        id_prof = row[0]

        if params.get(User.IsWitcher.value, None) == 1:
            cursor.execute("insert into Witcher (id_profile) values({})".format(id_prof))
            obj.is_witcher = True
        else:
            cursor.execute("insert into Client (id_profile) values({})".format(id_prof))
            obj.is_witcher = False
        status.object = obj
    else:
        status.status = Status.Error.value
        status.message = EventRegistration.LoginExist.value

    return status.toJSON()


def check_phone(cursor, params):
    cursor.execute("select id from Authorization_info where phone_number='{}'".format(params["phone_number"]))
    row = cursor.fetchone()
    status = Object()
    if row is None:
        status.status = Status.Ok.value
    else:
        status.status = Status.Error.value

    return status.toJSON()
